// vite.config.ts
import { defineConfig, loadEnv } from "vite";
import react from "@vitejs/plugin-react";
import path from "path";
import pa11y from "pa11y";
var __vite_injected_original_dirname = "D:\\hc\\_arbeide\\_places_to_work\\miles\\workshop_miles_camp_okt22\\uu-workshop\\uu-workshop";
var envDir = path.resolve(__vite_injected_original_dirname, "env");
function a11yPlugin(opts) {
  let config;
  return {
    name: "a11y-plugin",
    configResolved(resolvedConfig) {
      config = resolvedConfig;
    },
    async handleHotUpdate({ server }) {
      const result = await pa11y(`http://localhost:${process.env.VITE_PORT}`, {
        standard: "WCAG2AAA"
      });
      if (result.issues.length > 0) {
        server.ws.send({
          type: "custom",
          event: "pa11y:updated",
          data: result
        });
      }
    }
  };
}
var vite_config_default = ({ mode, server }) => {
  if (mode !== "production") {
    Object.assign(process.env, loadEnv(mode, envDir, ""));
    return defineConfig({
      plugins: [react(), a11yPlugin()],
      envDir: "env",
      server: {
        port: parseInt(process.env.VITE_PORT)
      }
    });
  } else {
    return defineConfig({
      plugins: [react()]
    });
  }
};
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCJEOlxcXFxoY1xcXFxfYXJiZWlkZVxcXFxfcGxhY2VzX3RvX3dvcmtcXFxcbWlsZXNcXFxcd29ya3Nob3BfbWlsZXNfY2FtcF9va3QyMlxcXFx1dS13b3Jrc2hvcFxcXFx1dS13b3Jrc2hvcFwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiRDpcXFxcaGNcXFxcX2FyYmVpZGVcXFxcX3BsYWNlc190b193b3JrXFxcXG1pbGVzXFxcXHdvcmtzaG9wX21pbGVzX2NhbXBfb2t0MjJcXFxcdXUtd29ya3Nob3BcXFxcdXUtd29ya3Nob3BcXFxcdml0ZS5jb25maWcudHNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL0Q6L2hjL19hcmJlaWRlL19wbGFjZXNfdG9fd29yay9taWxlcy93b3Jrc2hvcF9taWxlc19jYW1wX29rdDIyL3V1LXdvcmtzaG9wL3V1LXdvcmtzaG9wL3ZpdGUuY29uZmlnLnRzXCI7aW1wb3J0IHsgZGVmaW5lQ29uZmlnLCBsb2FkRW52LCBQbHVnaW5PcHRpb24gfSBmcm9tICd2aXRlJ1xyXG5pbXBvcnQgcmVhY3QsIHsgT3B0aW9ucyB9IGZyb20gJ0B2aXRlanMvcGx1Z2luLXJlYWN0J1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5pbXBvcnQgcGExMXkgZnJvbSAncGExMXknXHJcbmNvbnN0IGVudkRpciA9IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdlbnYnKVxyXG5cclxuLyoqXHJcbiAqIEExMWx5IHBsdWdpbiBmb3IgVml0ZVxyXG4gKiBAcGFyYW0gb3B0c1xyXG4gKiBAcmV0dXJucyBhcnJheVxyXG4gKiBodHRwczovL3NxdWl6bGFicy5naXRodWIuaW8vSFRNTF9Db2RlU25pZmZlci9TdGFuZGFyZHMvV0NBRzIvXHJcbiAqL1xyXG5mdW5jdGlvbiBhMTF5UGx1Z2luKG9wdHM/OiBPcHRpb25zKTogUGx1Z2luT3B0aW9uIHtcclxuICBsZXQgY29uZmlnOiB7fVxyXG5cclxuICAvKipcclxuICAgKiAgVGhlIGRlZmF1bHQgYWNjZXNzaWJpbGl0eSBzdGFuZGFyZCB1c2VkIGJ5IHBhMTF5IHRvIHRlc3QgYSBwYWdlIGlzIHRoZSBXQ0FHMkFBLlxyXG4gICAqIEhvd2V2ZXIsIHdlIGNhbiBjaGFuZ2UgaXQgdG8gYW55IG9mIHRoZSBmb2xsb3dpbmcgb3B0aW9uc1xyXG4gICAqICAtIFNlY3Rpb241MDgsIFdDQUcyQSwgV0NBRzJBQSwgb3IgV0NBRzJBQUEuXHJcbiAgICpcclxuICAgKiBQQUxMWSBET0NTIDogaHR0cHM6Ly9iaXRzb2Zjby5kZS9wYTExeS9cclxuICAgKi9cclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2ExMXktcGx1Z2luJyxcclxuICAgIGNvbmZpZ1Jlc29sdmVkKHJlc29sdmVkQ29uZmlnKSB7XHJcbiAgICAgIGNvbmZpZyA9IHJlc29sdmVkQ29uZmlnXHJcbiAgICB9LFxyXG4gICAgYXN5bmMgaGFuZGxlSG90VXBkYXRlKHsgc2VydmVyIH0pIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGExMXkoYGh0dHA6Ly9sb2NhbGhvc3Q6JHtwcm9jZXNzLmVudi5WSVRFX1BPUlR9YCwge1xyXG4gICAgICAgIHN0YW5kYXJkOiAnV0NBRzJBQUEnLCAvLyBQb3NpYmxlIHZhbHVlczogU2VjdGlvbjUwOCwgV0NBRzJBLCBXQ0FHMkFBLCBXQ0FHMkFBQVxyXG4gICAgICAgIC8vcnVsZXM6IFsnUHJpbmNpcGxlMS5HdWlkZWxpbmUxXzEuMV8xXzEnXSwgLy8gQWRkIHJ1bGVzIHRvIHRlc3QgRWtzOlxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHNlcnZlci53cy5zZW5kKHtcclxuICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxyXG4gICAgICAgICAgZXZlbnQ6ICdwYTExeTp1cGRhdGVkJyxcclxuICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgKHsgbW9kZSwgc2VydmVyIH0pID0+IHtcclxuICBpZiAobW9kZSAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICBPYmplY3QuYXNzaWduKHByb2Nlc3MuZW52LCBsb2FkRW52KG1vZGUsIGVudkRpciwgJycpKVxyXG4gICAgcmV0dXJuIGRlZmluZUNvbmZpZyh7XHJcbiAgICAgIHBsdWdpbnM6IFtyZWFjdCgpLCBhMTF5UGx1Z2luKCldLFxyXG4gICAgICBlbnZEaXI6ICdlbnYnLFxyXG4gICAgICBzZXJ2ZXI6IHtcclxuICAgICAgICBwb3J0OiBwYXJzZUludChwcm9jZXNzLmVudi5WSVRFX1BPUlQpLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGRlZmluZUNvbmZpZyh7XHJcbiAgICAgIHBsdWdpbnM6IFtyZWFjdCgpXSxcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBb2MsU0FBUyxjQUFjLGVBQTZCO0FBQ3hmLE9BQU8sV0FBd0I7QUFDL0IsT0FBTyxVQUFVO0FBQ2pCLE9BQU8sV0FBVztBQUhsQixJQUFNLG1DQUFtQztBQUl6QyxJQUFNLFNBQVMsS0FBSyxRQUFRLGtDQUFXLEtBQUs7QUFRNUMsU0FBUyxXQUFXLE1BQThCO0FBQ2hELE1BQUk7QUFTSixTQUFPO0FBQUEsSUFDTCxNQUFNO0FBQUEsSUFDTixlQUFlLGdCQUFnQjtBQUM3QixlQUFTO0FBQUEsSUFDWDtBQUFBLElBQ0EsTUFBTSxnQkFBZ0IsRUFBRSxPQUFPLEdBQUc7QUFDaEMsWUFBTSxTQUFTLE1BQU0sTUFBTSxvQkFBb0IsUUFBUSxJQUFJLGFBQWE7QUFBQSxRQUN0RSxVQUFVO0FBQUEsTUFFWixDQUFDO0FBRUQsVUFBSSxPQUFPLE9BQU8sU0FBUyxHQUFHO0FBQzVCLGVBQU8sR0FBRyxLQUFLO0FBQUEsVUFDYixNQUFNO0FBQUEsVUFDTixPQUFPO0FBQUEsVUFDUCxNQUFNO0FBQUEsUUFDUixDQUFDO0FBQUEsTUFDSDtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0Y7QUFFQSxJQUFPLHNCQUFRLENBQUMsRUFBRSxNQUFNLE9BQU8sTUFBTTtBQUNuQyxNQUFJLFNBQVMsY0FBYztBQUN6QixXQUFPLE9BQU8sUUFBUSxLQUFLLFFBQVEsTUFBTSxRQUFRLEVBQUUsQ0FBQztBQUNwRCxXQUFPLGFBQWE7QUFBQSxNQUNsQixTQUFTLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQztBQUFBLE1BQy9CLFFBQVE7QUFBQSxNQUNSLFFBQVE7QUFBQSxRQUNOLE1BQU0sU0FBUyxRQUFRLElBQUksU0FBUztBQUFBLE1BQ3RDO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSCxPQUFPO0FBQ0wsV0FBTyxhQUFhO0FBQUEsTUFDbEIsU0FBUyxDQUFDLE1BQU0sQ0FBQztBQUFBLElBQ25CLENBQUM7QUFBQSxFQUNIO0FBQ0Y7IiwKICAibmFtZXMiOiBbXQp9Cg==
